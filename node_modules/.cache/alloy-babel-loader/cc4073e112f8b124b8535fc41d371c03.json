{"remainingRequest":"/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/node_modules/alloy-loader/lib/index.js??ref--4-2!/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/app/controllers/phone/identity.js","dependencies":[{"path":"/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/app/controllers/phone/identity.js","mtime":1603117181828},{"path":"/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/app/views/phone/identity.xml","mtime":1603117838781},{"path":"/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/app/styles/phone/identity.tss","mtime":1603117222713},{"path":"/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/node_modules/alloy-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEFsbG95IGZyb20gJy9hbGxveSc7CmNvbnN0IEJhY2tib25lID0gQWxsb3kuQmFja2JvbmU7CmNvbnN0IF8gPSBBbGxveS5fOwppbXBvcnQgSWRlbnRpdHkgZnJvbSAndGkuaWRlbnRpdHknOwoKZnVuY3Rpb24gX19wcm9jZXNzQXJnKG9iaiwga2V5KSB7CiAgdmFyIGFyZyA9IG51bGw7CgogIGlmIChvYmopIHsKICAgIGFyZyA9IG9ialtrZXldIHx8IG51bGw7CiAgfQoKICByZXR1cm4gYXJnOwp9CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb250cm9sbGVyKCkgewogIHJlcXVpcmUoJy9hbGxveS9jb250cm9sbGVycy8nICsgJ0Jhc2VDb250cm9sbGVyJykuYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7CgogIHRoaXMuX19jb250cm9sbGVyUGF0aCA9ICdwaG9uZS9pZGVudGl0eSc7CiAgdGhpcy5hcmdzID0gYXJndW1lbnRzWzBdIHx8IHt9OwoKICBpZiAoYXJndW1lbnRzWzBdKSB7CiAgICB2YXIgX19wYXJlbnRTeW1ib2wgPSBfX3Byb2Nlc3NBcmcoYXJndW1lbnRzWzBdLCAnX19wYXJlbnRTeW1ib2wnKTsKCiAgICB2YXIgJG1vZGVsID0gX19wcm9jZXNzQXJnKGFyZ3VtZW50c1swXSwgJyRtb2RlbCcpOwoKICAgIHZhciBfX2l0ZW1UZW1wbGF0ZSA9IF9fcHJvY2Vzc0FyZyhhcmd1bWVudHNbMF0sICdfX2l0ZW1UZW1wbGF0ZScpOwogIH0KCiAgdmFyICQgPSB0aGlzOwogIHZhciBleHBvcnRzID0ge307CiAgdmFyIF9fZGVmZXJzID0ge307IC8vIEdlbmVyYXRlZCBjb2RlIHRoYXQgbXVzdCBiZSBleGVjdXRlZCBiZWZvcmUgYWxsIFVJIGFuZC9vcgogIC8vIGNvbnRyb2xsZXIgY29kZS4gT25lIGV4YW1wbGUgaXMgYWxsIG1vZGVsIGFuZCBjb2xsZWN0aW9uCiAgLy8gZGVjbGFyYXRpb25zIGZyb20gbWFya3VwLgogIC8vIEdlbmVyYXRlZCBVSSBjb2RlCgogICQuX192aWV3c1siaWRlbnRpdHkiXSA9IFRpLlVJLmNyZWF0ZVdpbmRvdyh7CiAgICBiYWNrZ3JvdW5kQ29sb3I6ICJ3aGl0ZSIsCiAgICBzb2Z0S2V5Ym9hcmRPbkZvY3VzOiBUaS5VSS5BbmRyb2lkLlNPRlRfS0VZQk9BUkRfU0hPV19PTl9GT0NVUywKICAgIGlkOiAiaWRlbnRpdHkiLAogICAgdGl0bGU6ICJJZGVudGl0eSIKICB9KTsKICAkLl9fdmlld3NbImlkZW50aXR5Il0gJiYgJC5hZGRUb3BMZXZlbFZpZXcoJC5fX3ZpZXdzWyJpZGVudGl0eSJdKTsKICAkLl9fdmlld3NbImF1dGhlbnRpY2F0ZSJdID0gVGkuVUkuY3JlYXRlQnV0dG9uKHsKICAgIHdpZHRoOiAzMTAsCiAgICBoZWlnaHQ6IDcwLAogICAgZm9udDogewogICAgICBmb250U2l6ZTogMTYKICAgIH0sCiAgICBjb2xvcjogIndoaXRlIiwKICAgIGJhY2tncm91bmRDb2xvcjogIiNGRjAwMDAiLAogICAgaWQ6ICJhdXRoZW50aWNhdGUiCiAgfSk7CgogICQuX192aWV3c1siaWRlbnRpdHkiXS5hZGQoJC5fX3ZpZXdzWyJhdXRoZW50aWNhdGUiXSk7CgogIHZhbGlkYXRlID8gJC5hZGRMaXN0ZW5lcigkLl9fdmlld3NbImF1dGhlbnRpY2F0ZSJdLCAnY2xpY2snLCB2YWxpZGF0ZSkgOiBfX2RlZmVyc1snJC5fX3ZpZXdzWyJhdXRoZW50aWNhdGUiXSFjbGljayF2YWxpZGF0ZSddID0gdHJ1ZTsKICAkLl9fdmlld3NbImFuZHJvaWRGaW5nZXJwcmludCJdID0gQWxsb3kuY3JlYXRlV2lkZ2V0KCd0aS5hbmRyb2lkZmluZ2VycHJpbnRhbGVydGRpYWxvZycsICd3aWRnZXQnLCB7CiAgICBpZDogImFuZHJvaWRGaW5nZXJwcmludCIsCiAgICBfX3BhcmVudFN5bWJvbDogJC5fX3ZpZXdzWyJpZGVudGl0eSJdCiAgfSk7CgogICQuX192aWV3c1siYW5kcm9pZEZpbmdlcnByaW50Il0uc2V0UGFyZW50KCQuX192aWV3c1siaWRlbnRpdHkiXSk7CgogIGV4cG9ydHMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHt9OyAvLyBtYWtlIGFsbCBJRGVkIGVsZW1lbnRzIGluICQuX192aWV3cyBhdmFpbGFibGUgcmlnaHQgb24gdGhlICQgaW4gYQogIC8vIGNvbnRyb2xsZXIncyBpbnRlcm5hbCBjb2RlLiBFeHRlcm5hbGx5IHRoZSBJRGVkIGVsZW1lbnRzIHdpbGwKICAvLyBiZSBhY2Nlc3NlZCB3aXRoIGdldFZpZXcoKS4KCgogIF8uZXh0ZW5kKCQsICQuX192aWV3cyk7IC8vIENvbnRyb2xsZXIgY29kZSBkaXJlY3RseSBmcm9tIHRoZSBkZXZlbG9wZXIncyBjb250cm9sbGVyIGZpbGUKCgogIHZhciBhdXRoUGhyYXNlID0gIiI7CgogIGlmICghSWRlbnRpdHkuaXNTdXBwb3J0ZWQoKSkgewogICAgYWxlcnQoJ0Jpb21ldHJpYyBhdXRoZW50aWNhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZGV2aWNlIFxub3Jcbm5vIGlkZW50aXRpZXMgYXJlIGVucm9sbGVkIScpOwogICAgJC5hdXRoZW50aWNhdGUuZW5hYmxlZCA9IGZhbHNlOwogIH0KCiAgaWYgKGZhbHNlKSB7CiAgICBpZiAoSWRlbnRpdHkuYmlvbWV0cnlUeXBlID09IElkZW50aXR5LkJJT01FVFJZX1RZUEVfRkFDRV9JRCkgewogICAgICBhdXRoUGhyYXNlID0gJ0ZhY2UgSUQnOwogICAgfSBlbHNlIGlmIChJZGVudGl0eS5iaW9tZXRyeVR5cGUgPT0gSWRlbnRpdHkuQklPTUVUUllfVFlQRV9UT1VDSF9JRCkgewogICAgICBhdXRoUGhyYXNlID0gJ1RvdWNoIElEJzsKICAgIH0gZWxzZSB7CiAgICAgIGF1dGhQaHJhc2UgPSAnKE5vbmUgYXZhaWxhYmxlKSc7CiAgICB9CgogICAgJC5hdXRoZW50aWNhdGUudGl0bGUgPSAiQXV0aGVudGljYXRlIHdpdGg6ICIgKyBhdXRoUGhyYXNlOwogIH0KCiAgaWYgKHRydWUpIHsKICAgIGF1dGhQaHJhc2UgPSAnRmluZ2VycHJpbnQnOwogICAgJC5hdXRoZW50aWNhdGUudGl0bGUgPSAiVGFwIGhlcmUgdG8gYXV0aGVudGljYXRlIjsKICB9CgogIGZ1bmN0aW9uIHZhbGlkYXRlKCkgewogICAgaWYgKHRydWUpIHsKICAgICAgbGV0IHJlYXNvbiA9ICJDb25maXJtIGZpbmdlcnByaW50IHRvIGF1dGhlbnRpY2F0ZSI7CiAgICAgIGxldCB0aXRsZSA9ICJJZGVudGl0eSI7CiAgICAgICQuYW5kcm9pZEZpbmdlcnByaW50LnNldFJlYXNvbihyZWFzb24pOwogICAgICAkLmFuZHJvaWRGaW5nZXJwcmludC5zZXRUaXRsZSh0aXRsZSk7CiAgICB9CgogICAgSWRlbnRpdHkuYXV0aGVudGljYXRlKHsKICAgICAgcmVhc29uOiAiUGxlYXNlIGF1dGhlbnRpY2F0ZSB0byBjb250aW51ZSIsCiAgICAgIGZhbGxiYWNrVGl0bGU6ICIiLAogICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZmFsc2UpIHsKICAgICAgICAgIElkZW50aXR5LmludmFsaWRhdGUoKTsKCiAgICAgICAgICBpZiAoIWUuc3VjY2VzcykgewogICAgICAgICAgICBhbGVydChlLmVycm9yKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGFsZXJ0KCdTdWNjZXNzZnVsbHkgYXV0aGVudGljYXRlZCEnKTsKICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0cnVlKSB7CiAgICAgICAgICBpZiAoZS5zdWNjZXNzKSB7CiAgICAgICAgICAgICQuYW5kcm9pZEZpbmdlcnByaW50LnN1Y2Nlc3MoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICQuYW5kcm9pZEZpbmdlcnByaW50LmZhaWx1cmUoZS5lcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKCiAgICBpZiAodHJ1ZSkgewogICAgICAkLmFuZHJvaWRGaW5nZXJwcmludC5zaG93KGZ1bmN0aW9uICgpIHsKICAgICAgICBJZGVudGl0eS5pbnZhbGlkYXRlKCk7CiAgICAgIH0pOwogICAgfQogIH0gLy8gR2VuZXJhdGVkIGNvZGUgdGhhdCBtdXN0IGJlIGV4ZWN1dGVkIGFmdGVyIGFsbCBVSSBhbmQKICAvLyBjb250cm9sbGVyIGNvZGUuIE9uZSBleGFtcGxlIGRlZmVycmVkIGV2ZW50IGhhbmRsZXJzIHdob3NlCiAgLy8gZnVuY3Rpb25zIGFyZSBub3QgZGVmaW5lZCB1bnRpbCBhZnRlciB0aGUgY29udHJvbGxlciBjb2RlCiAgLy8gaXMgZXhlY3V0ZWQuCgoKICBfX2RlZmVyc1snJC5fX3ZpZXdzWyJhdXRoZW50aWNhdGUiXSFjbGljayF2YWxpZGF0ZSddICYmICQuYWRkTGlzdGVuZXIoJC5fX3ZpZXdzWyJhdXRoZW50aWNhdGUiXSwgJ2NsaWNrJywgdmFsaWRhdGUpOyAvLyBFeHRlbmQgdGhlICQgaW5zdGFuY2Ugd2l0aCBhbGwgZnVuY3Rpb25zIGFuZCBwcm9wZXJ0aWVzCiAgLy8gZGVmaW5lZCBvbiB0aGUgZXhwb3J0cyBvYmplY3QuCgogIF8uZXh0ZW5kKCQsIGV4cG9ydHMpOwp9"},{"version":3,"sources":["/Users/ssaddique/Axway/KitchenSink-v2-update/kitchensink-v2/app/controllers/phone/identity.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,MAAA,UAAA,GAAA,EAAA;;AAEA,MAAA,CAAA,QAAA,CAAA,WAAA,EAAA,EAAA;AACA,IAAA,KAAA,CAAA,4FAAA,CAAA;AACA,IAAA,CAAA,CAAA,YAAA,CAAA,OAAA,GAAA,KAAA;AACA;;AAEA,aAAA;AACA,QAAA,QAAA,CAAA,YAAA,IAAA,QAAA,CAAA,qBAAA,EAAA;AACA,MAAA,UAAA,GAAA,SAAA;AACA,KAFA,MAEA,IAAA,QAAA,CAAA,YAAA,IAAA,QAAA,CAAA,sBAAA,EAAA;AACA,MAAA,UAAA,GAAA,UAAA;AACA,KAFA,MAEA;AACA,MAAA,UAAA,GAAA,kBAAA;AACA;;AACA,IAAA,CAAA,CAAA,YAAA,CAAA,KAAA,GAAA,wBAAA,UAAA;AACA;;AAEA,YAAA;AACA,IAAA,UAAA,GAAA,aAAA;AACA,IAAA,CAAA,CAAA,YAAA,CAAA,KAAA,GAAA,0BAAA;AACA;;AAEA,WAAA,QAAA,GAAA;AACA,cAAA;AACA,UAAA,MAAA,GAAA,qCAAA;AACA,UAAA,KAAA,GAAA,UAAA;AACA,MAAA,CAAA,CAAA,kBAAA,CAAA,SAAA,CAAA,MAAA;AACA,MAAA,CAAA,CAAA,kBAAA,CAAA,QAAA,CAAA,KAAA;AACA;;AACA,IAAA,QAAA,CAAA,YAAA,CAAA;AACA,MAAA,MAAA,EAAA,iCADA;AAEA,MAAA,aAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,UAAA,CAAA,EAAA;AACA,mBAAA;AACA,UAAA,QAAA,CAAA,UAAA;;AACA,cAAA,CAAA,CAAA,CAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,CAAA,CAAA,KAAA,CAAA;AACA,WAFA,MAEA;AACA,YAAA,UAAA,CAAA,YAAA;AACA,cAAA,KAAA,CAAA,6BAAA,CAAA;AACA,aAFA,EAEA,IAFA,CAAA;AAGA;AACA,SATA,MASA,UAAA;AACA,cAAA,CAAA,CAAA,OAAA,EAAA;AACA,YAAA,CAAA,CAAA,kBAAA,CAAA,OAAA;AACA,WAFA,MAEA;AACA,YAAA,CAAA,CAAA,kBAAA,CAAA,OAAA,CAAA,CAAA,CAAA,KAAA;AACA;AACA;AACA;AApBA,KAAA;;AAsBA,cAAA;AACA,MAAA,CAAA,CAAA,kBAAA,CAAA,IAAA,CAAA,YAAA;AAAA,QAAA,QAAA,CAAA,UAAA;AAAA,OAAA;AACA;AACA,G","sourcesContent":["\n\nvar authPhrase = \"\";\n\nif (!Identity.isSupported()) {\n  alert('Biometric authentication is not supported on this device \\nor\\nno identities are enrolled!');\n  $.authenticate.enabled = false;\n}\n\nif (OS_IOS) {\n  if (Identity.biometryType == Identity.BIOMETRY_TYPE_FACE_ID) {\n    authPhrase = 'Face ID';\n  } else if (Identity.biometryType == Identity.BIOMETRY_TYPE_TOUCH_ID) {\n    authPhrase = 'Touch ID';\n  } else {\n    authPhrase = '(None available)';\n  }\n  $.authenticate.title = \"Authenticate with: \" + authPhrase;\n}\n\nif (OS_ANDROID) {\n  authPhrase = 'Fingerprint';\n  $.authenticate.title = \"Tap here to authenticate\";\n}\n\nfunction validate() {\n  if (OS_ANDROID) {\n    let reason = \"Confirm fingerprint to authenticate\";\n    let title = \"Identity\";\n    $.androidFingerprint.setReason(reason);\n    $.androidFingerprint.setTitle(title);\n  }\n  Identity.authenticate({\n    reason: \"Please authenticate to continue\",\n    fallbackTitle: \"\",\n    callback: function (e) {\n      if (OS_IOS) {\n        Identity.invalidate();\n        if (!e.success) {\n          alert(e.error);\n        } else {\n          setTimeout(function () {\n            alert('Successfully authenticated!');\n          }, 1000);\n        }\n      } else if (OS_ANDROID) {\n        if (e.success) {\n          $.androidFingerprint.success();\n        } else {\n          $.androidFingerprint.failure(e.error);\n        }\n      }\n    } });\n\n  if (OS_ANDROID) {\n    $.androidFingerprint.show(function () {Identity.invalidate();});\n  }\n}"]}]}